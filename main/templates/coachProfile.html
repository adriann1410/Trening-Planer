{% extends 'base.html' %}
{% load static %}
{% load templatefilters %}

{% block content %}

    <div class="container">
        <div class="row">
                <div class="col-12 ">

                    <ul class="nav justify-content-end nav-tabs">
                        {% if request.user.is_authenticated %}
                            <li class="nav-item">
                                <a class="nav-link {% if request.user.id == coach.user_id %}active{% endif %}" href={% url 'userProfile' pk=request.user.id %}>Mój Profil</a>
                            </li>

                            {% if request.user.id == coach.user_id %}
                                <li class="nav-item">
                                    <a class="nav-link" href={% url 'editProfile' %}>Opcje</a>
                                </li>
                            {% endif %}

                            <li class="nav-item">
                                <a class="nav-link " href="#">Wyślij wiadomość</a>
                            </li>
                        {% endif %}

                    </ul>

                </div>
            <br><br>
        </div>
        <div class="row mt-5">
            <div class="col-md-8 col-sm-12">
                <div class="media">
                    {% if coach.user.profile.image %}
                    <img src="{{ coach.user.profile.image.url }}" width="120" height="120">
                     {% else %}
                    <img src="{{ media|placeholder_image }}" width="120" height="120">
                    {% endif %}
                     <div class="media-body ml-4">
                     <h4>{{ coach.user.first_name }} {{ coach.user.last_name }}</h4>
                         <p class="ml-4">{{ coach.description | linebreaks }}</p>
                     </div>
                </div>
            </div>
            <div class="col-md-4 col-sm-12">
                <h5>Podstawowe informacje:</h5>
                <div class="row">
                    <div class="col-sm-5 attribute_name">
                        Wiek:
                    </div>
                    <div class="col-sm-6 attribute_value">
                        {{ coach.user.profile.old }}
                    </div>

                </div>
                <hr class="detail_row">
                <div class="row">
                    <div class="col-sm-5 attribute_name">
                        Wzrost:
                    </div>
                    <div class="col-sm-6 attribute_value">
                        {{ coach.user.profile.height }}
                    </div>
                </div>
                <hr class="detail_row">
                <div class="row">
                    <div class="col-sm-5 attribute_name">
                        Waga:
                    </div>
                    <div class="col-sm-6 attribute_value">
                        {{ coach.user.profile.weight }}
                    </div>
                </div>
                <hr class="detail_row">
                <div class="row">
                    <div class="col-sm-5 attribute_name">
                       Na stronie od:
                    </div>
                    <div class="col-sm-6 attribute_value">
                        {{ coach.user.date_joined.date }}
                    </div>
                </div>
            </div>
        </div>
        <br>
        <hr>
        {% if user.is_authenticated and request.user != coach.user.id %}
        <div class="row mt-4">
            <h4>Dodaj komentarz:</h4>
        </div>
        <div class="row">
            <br>
            <form method="post">
                {% csrf_token %}
                <div class="row">
                    {{ form }}
                </div>

                <br>
                 <button type='submit' class="'btn btn default">Dodaj komentarz</button>
            </form>

        </div>
        {% endif %}
        <hr>
        <div class="row mt-4">
            <h4>Komentarze:</h4>
            <br><br>
        </div>
        {% for comment in comments %}
        <div class="row border border-secondary rounded mt-1">
            <div class="col-2">
                <h5>{{ comment.author }}</h5>
                <tag><small>{{ comment.date }}</small></tag>
            </div>
            <div class="col-9">
                <br>
                {{ comment.content | linebreaks }}
            </div>
            <div class="col-1">
                <p>ocena:</p>
                <h5>{{ comment.commentRate }}/5</h5>
            </div>
        </div>
        {% endfor %}

    </div>
{% endblock %}

